<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pre-analytical Pitfalls - SGC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .nhs-blue { background-color: #005EB8; }
        .nhs-dark-blue { background-color: #003087; }
        .nhs-light-grey { background-color: #F0F4F5; }
        .nhs-text-blue { color: #005EB8; }
        .nhs-text-dark-blue { color: #003087; }
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Style for the option buttons */
        .option-btn {
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">

    <!-- This div will be populated by js/component-loader.js -->
    <div id="header-placeholder"></div>

    <main class="py-12 md:py-16 bg-nhs-light-grey flex-grow">
        <div class="container mx-auto px-4 sm:px-6 max-w-3xl text-center">
            <a href="games.html" class="inline-flex items-center nhs-text-blue font-semibold mb-8 hover:underline">
                <i data-feather="arrow-left" class="w-4 h-4 mr-2"></i>Back to Games
            </a>
            <h2 class="text-3xl md:text-4xl font-bold nhs-text-dark-blue mb-4">Pre-analytical Pitfalls</h2>
            <p class="text-gray-600 mb-8 max-w-2xl mx-auto">Identify common errors in sample collection and handling, and understand their impact on test results.</p>

            <!-- The main quiz container. It starts hidden and is shown by the script. -->
            <div id="quiz-container" class="bg-white p-6 md:p-8 rounded-lg shadow-lg text-left hidden">
                <p id="question-text" class="text-xl font-medium mb-6">If you can see this, the script is working!</p>
                <div id="options-container" class="space-y-4">
                    <!-- Options will be populated by JS -->
                </div>
                <div id="feedback-container" class="mt-6 p-4 rounded-lg hidden">
                    <p id="feedback-text" class="font-semibold"></p>
                </div>
                <div class="text-right">
                    <button id="next-question-btn" class="mt-6 bg-gray-800 text-white font-bold py-3 px-8 rounded-lg hover:bg-black transition duration-300 hidden">Next Question</button>
                </div>
            </div>

            <!-- The game over screen. Also starts hidden. -->
            <div id="game-over-screen" class="hidden bg-white p-8 rounded-lg shadow-lg mt-8 fade-in">
                <h3 class="text-2xl font-bold nhs-text-dark-blue mb-4">Quiz Complete!</h3>
                <p id="final-score" class="text-xl text-gray-700 mb-6"></p>
                <button id="play-again-btn" class="bg-nhs-blue text-white font-bold py-3 px-8 rounded-lg hover:bg-nhs-dark-blue transition duration-300">Play Again</button>
            </div>
        </div>
    </main>

    <!-- This div will be populated by js/component-loader.js -->
    <div id="footer-placeholder"></div>
    
    <!-- This is the main script for the game itself. -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DEBUGGING STEP ---
            // The goal here is to simply make the quiz container visible.
            // If this works, the problem is in the game logic. If not, the script isn't running correctly.

            console.log("Game script has started successfully.");

            const quizContainerEl = document.getElementById('quiz-container');
            
            if (quizContainerEl) {
                quizContainerEl.classList.remove('hidden');
                console.log("Attempted to show the quiz container.");
            } else {
                console.error("Error: Could not find the 'quiz-container' element.");
            }

            if (typeof feather !== 'undefined') {
                feather.replace();
            }

            // All original game logic is temporarily disabled for this test.
            /*
            const questionTextEl = document.getElementById('question-text');
            const optionsContainerEl = document.getElementById('options-container');
            const feedbackContainerEl = document.getElementById('feedback-container');
            const feedbackTextEl = document.getElementById('feedback-text');
            const nextQuestionBtn = document.getElementById('next-question-btn');
            const gameOverScreenEl = document.getElementById('game-over-screen');
            const finalScoreEl = document.getElementById('final-score');
            const playAgainBtn = document.getElementById('play-again-btn');

            let currentQuestionIndex = 0;
            let score = 0;
            let questions = [];

            const allQuestions = [
                // ... all question data ...
            ];

            function shuffleArray(array) { ... }
            function displayQuestion() { ... }
            function selectOption(selectedButton, explanation) { ... }
            function nextQuestion() { ... }
            function endGame() { ... }
            function startGame() { ... }

            nextQuestionBtn.addEventListener('click', nextQuestion);
            playAgainBtn.addEventListener('click', startGame);

            startGame();
            */
        });
    </script>
</body>
</html>
